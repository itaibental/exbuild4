<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EXAMBUILDER 4.0 - ×¢×•×¨×š ××‘×—× ×™×</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body { height: 100vh; overflow: hidden; display: flex; flex-direction: column; font-size: 100%; }
        .main-app-header { height: 8vh; padding: 0 2%; display: flex; justify-content: space-between; align-items: center; box-shadow: var(--shadow); z-index: 100; background: var(--primary); color: white; }
        .container { display: flex; width: 100%; flex: 1; overflow: hidden; }
        .col-panel { display: flex; flex-direction: column; position: relative; overflow: hidden; }
        .col-right { width: 30%; background-color: var(--sidebar-bg); border-left: 0.1rem solid var(--sidebar-border); z-index: 20; }
        .col-left { width: 22%; background-color: #fff; border-right: 0.1rem solid var(--sidebar-border); display: flex; flex-direction: column; }
        .col-middle { flex: 1; background-color: var(--bg-page); padding: 2.5%; overflow-y: auto; }
        .scroll-content { flex: 1; overflow-y: auto; padding: 5%; }
        details.editor-category { background: white; border: 0.1rem solid var(--sidebar-border); border-radius: 1rem; margin-bottom: 5%; box-shadow: 0 0.1vh 0.3vh rgba(0,0,0,0.05); overflow: hidden; }
        details.editor-category summary { padding: 5%; font-weight: 700; cursor: pointer; display: flex; align-items: center; justify-content: space-between; list-style: none; }
        .category-content { padding: 5%; border-top: 0.1rem solid var(--sidebar-border); }
        .form-group { margin-bottom: 6%; }
        input, select, textarea { width: 100%; padding: 4%; border: 0.1rem solid var(--border); border-radius: 0.5rem; box-sizing: border-box; font-family:inherit; }
        .btn-add, .btn-download { width: 100%; padding: 5%; font-weight: 600; border-radius: 0.5rem; cursor: pointer; border: none; margin-top: 2%; }
        #questionsList { background: white; width: 95%; max-width: 850px; margin: 0 auto; padding: 5%; border-radius: 1.5rem; box-shadow: var(--shadow-lg); min-height: 80vh; }
        .question-card { border:1px solid #eee; padding: 1rem; margin-bottom: 1rem; border-radius: 8px; }
        @media (max-width: 768px) { body { overflow-y: auto; height: auto; } .container { flex-direction: column; height: auto; } .col-right, .col-left, .col-middle { width: 100%; border: none; height: auto; } }
    </style>
</head>
<body>
    <header class="main-app-header">
        <div style="display:flex; align-items:center; gap: 1.5vw;">
            <a href="index.html" style="color:white; text-decoration:none; font-size:1.2rem;">ğŸ </a>
            <h1>EXAMBUILDER 4.0</h1>
        </div>
        <button onclick="App.saveProject()" style="padding: 0.5rem 1rem; border-radius: 4px; border: 1px solid white; background: rgba(255,255,255,0.1); color: white; cursor: pointer;">ğŸ’¾ ×©××•×¨ ×˜×™×•×˜×”</button>
    </header>
    <div class="container">
        <div class="col-panel col-right">
            <div class="scroll-content">
                <h2>âœï¸ ×¢×¨×™×›×ª ××‘×—×Ÿ</h2>
                <details class="editor-category" open>
                    <summary>ğŸŒ ×”×’×“×¨×•×ª ×›×œ×œ×™×•×ª</summary>
                    <div class="category-content">
                        <div class="form-group"><label>×›×•×ª×¨×ª</label><input type="text" id="examTitleInput" placeholder="×©× ×”××‘×—×Ÿ..." oninput="App.updateExamTitle()"></div>
                        <div class="form-group"><label>×–××Ÿ (×“×§×•×ª)</label><input type="number" id="examDurationInput" value="90"></div>
                    </div>
                </details>
                <details class="editor-category" open>
                    <summary>â“ ×”×•×¡×¤×ª ×©××œ×”</summary>
                    <div class="category-content">
                        <div class="form-group"><label>×ª×•×›×Ÿ ×”×©××œ×”</label><textarea id="qText" rows="4" placeholder="×”×§×œ×“ ××ª ×”×©××œ×”..."></textarea></div>
                        <div class="form-group"><label>× ×™×§×•×“</label><input type="number" id="qPoints" value="10"></div>
                        <button class="btn-add" style="background:var(--accent); color:white;" onclick="App.addQuestion()">×”×•×¡×£ ×©××œ×”</button>
                    </div>
                </details>
                <div style="padding:5%; font-weight:bold; background:white; border-radius:8px; margin-top:20px;">×¡×”"×› × ×™×§×•×“: <span id="totalPoints">0</span></div>
            </div>
        </div>
        <div class="col-middle">
            <div id="questionsList">
                <div id="previewHeader" style="text-align:center;">
                    <h1 id="previewExamTitle" style="color:var(--primary);">×‘×—×™× ×ª ×‘×’×¨×•×ª</h1>
                    <input type="text" placeholder="×©× ×”×ª×œ××™×“" style="width:50%; margin:20px auto; display:block; text-align:center; border:none; border-bottom:2px dashed #ccc;">
                </div>
                <div id="previewQuestionsContainer"></div>
            </div>
        </div>
        <div class="col-panel col-left">
            <div class="scroll-content">
                <h3>ğŸš€ ×”×¤×¦×”</h3>
                <div class="form-group"><label>××™×™×œ ×”××•×¨×”</label><input type="email" id="teacherEmailInput" placeholder="teacher@school.org"></div>
                <button class="btn-download" style="background:var(--success); color:white;" onclick="Generator.generateAndDownload()">ğŸ“¥ ×”×•×¨×“ ××‘×—×Ÿ (HTML)</button>
            </div>
        </div>
    </div>
    <script src="js/state.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/generator.js"></script>
    <script src="js/main.js"></script>
</body>
</html>